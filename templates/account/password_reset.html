{% extends "account/base.html" %}
{% load i18n %}

{% block auth_subtitle %}Reset your password{% endblock %}

{% block auth_content %}
<div class="text-center mb-4">
    <div class="auth-icon mb-3">
        <i class="fas fa-key text-primary" style="font-size: 2.5rem;"></i>
    </div>
    <p class="text-muted">
        Forgotten your password? Enter your email address below, and we'll send you an email allowing you to reset it.
    </p>
</div>

<form class="auth-form" method="POST" action="{% url 'account_reset_password' %}">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="alert alert-auth alert-error">
        {% for error in form.non_field_errors %}
        <div>{{ error }}</div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Email Field -->
    <div class="mb-3">
        <label for="{{ form.email.id_for_label }}" class="form-label">
            <i class="fas fa-envelope me-2"></i>Email Address
        </label>
        <input type="email" class="form-control {% if form.email.errors %}is-invalid{% endif %}"
            id="{{ form.email.id_for_label }}" name="{{ form.email.name }}"
            value="{{ form.email.value|default_if_none:'' }}" placeholder="Enter your email address" required>
        {% if form.email.errors %}
        <div class="invalid-feedback">
            {% for error in form.email.errors %}
            {{ error }}
            {% endfor %}
        </div>
        {% endif %}
    </div>

    <!-- Reset Button -->
    <div class="d-grid mb-4">
        <button class="btn btn-primary btn-auth" type="submit">
            <i class="fas fa-paper-plane me-2"></i>Send Reset Email
        </button>
    </div>
</form>

<!-- Back Links -->
<div class="text-center">
    <div class="mb-2">
        <a href="{% url 'account_login' %}" class="auth-link">
            <i class="fas fa-arrow-left me-1"></i>Back to Sign In
        </a>
    </div>
    <div>
        <a href="{% url 'core:web_index' %}" class="auth-link">
            <i class="fas fa-home me-1"></i>Back to Homepage
        </a>
    </div>
</div>
{% endblock %}